<!DOCTYPE html>
<html>
  <head>
    <title>ストックサポーター</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbo-track': 'reload' %>

    <!-- Importmapを使ってモジュールとして読み込む -->
    <%= javascript_importmap_tags %>
  </head>

  <body>
  <% if flash[:alert] %>
    <div class="alert alert-danger">
      <%= flash[:alert] %>
    </div>
  <% end %>

  <% if flash[:notice] %>
    <div class="alert alert-success">
      <%= flash[:notice] %>
    </div>
  <% end %>

  <% if current_user.present? %> <!-- current_userが存在するかどうかを確認 -->
    <%= render 'shared/header_signed_in' %> <!-- ログイン後のヘッダー -->
  <% else %>
    <%= render 'shared/header_signed_out' %> <!-- ログイン前のヘッダー -->
  <% end %>

  <!-- ビューのコンテンツを埋め込む場所 -->
  <%= yield %>

  </body>
</html>
